<!DOCTYPE html>
<html>
<head>
<link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta name="viewport" content="width=device-width">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style>
body{
	background:#fff6a4;
	font-family: Arial;
	font-size: 30px;
	color:#555;
}	
.Cheader{
text-align: center;
    font-size: 34px;
    position: absolute;    color: #c12306;
    left: 0;font-family: 'Pacifico', cursive;
    right: 0;}
.Ccon{
position: absolute;
    top: 50%;
    left: 50%;
    right: 0;
    background: #ff5333;
    width: 80%;
max-width:525px;    
transform: translate(-50%,-50%);
    padding: 18px;
    color: #f9f9f9;
    font-family: Arial, Microsoft Yahei;
    font-weight: bold;}
.ansbox{
background: #c12306;
    height: 50px;
    margin: 20px 0;
    padding-left: 20px;
    line-height: 50px;
}
.ansbuzz{
cursor:pointer;
    color: #c12306;
    height: 50px;
    margin: 24px auto;
    line-height: 50px;
    width: 80%;
    background: #fff;
    text-align: center;
    box-shadow: 7px 3px 10px #a33434;

}
.Cq .q{
letter-spacing: 1.2px;
    line-height: 40px;
    padding: 10px;}
</style>
<script>
	$(document).ready(function(){
var cq1ans;
var cq1a = Math.floor(Math.random() * (10-2))+2;
var cq1b = Math.floor(Math.random() * (cq1a-2))+2;
console.log(cq1a);console.log(cq1b);
var cq1="从";
for(var i=0;i<cq1a;i++){
cq1+=i;
if(i<cq1a){cq1+="，";}else{cq1+="中，"}
}
cq1=cq1+"选取"+cq1b+"个数字，可组成多少";
if(Math.floor(Math.random() * 2) == 1){
cq1+="不";
cq1ans=nPr(cq1a,cq1b,0);

}else{
cq1+="可";
cq1ans=times(cq1a,cq1b,0);

}
cq1+="重复数字的"+cq1b+"位数？";
$("#cq1 .q").html(cq1);


function times(n,r,cond){
var ans=1;
if(cond==0){
r=r-1;
ans*=(n-1);
}
for(var i=1;i<=r;i++){
ans*=n;
}
return ans;
}

function nPr(n,r,cond){
var num=1;
var ans=1;
if(cond==0){
n=n-1;
r=r-1;
ans*=n;
}
for(var i=n;num<=r;i--){
ans*=i;
num++;}
return ans;
}

$(document).on('keypress',function(e) {
    if(e.which == 13) {

var uans=parseInt($("#cq1 .ansbox").html());
if(cq1ans == uans){
$("#cq1 .ansbuzz").html("答对了！");location.reload();
}else if($("#cq1 .ansbox").html()==""){
$("#cq1 .ansbuzz").html("请输入数值");}else{
$("#cq1 .ansbuzz").html("不对哦");
}      return false;
    }
});


$( "#cq1 .ansbuzz" ).click(function() {
var uans=parseInt($("#cq1 .ansbox").html());
if(cq1ans == uans){
$("#cq1 .ansbuzz").html("答对了！");location.reload();
}else if($("#cq1 .ansbox").html()==""){
$("#cq1 .ansbuzz").html("请输入数值");}else{
$("#cq1 .ansbuzz").html("不对哦");
}
});

	});

</script>
</head>
<body>
<div class="Cheader">
	<p>Math Conceptia</p>	
</div>
<div class="Ccon">

	<div class="Cq" id="cq1">
<div class="q"></div>
<div class="ansbox" contenteditable="true"></div>
<div class="ansbuzz">作答</div>

</div>
</div>
</body>
</html>
