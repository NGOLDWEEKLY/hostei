<script>
  
var x=("。 ， ？ ！ 、 ； ： “ ” ‘ ’ 「 」 『 』 ~ （ ） [ ] 〔 〕 ~ 【 】 ~ — — … … · — - ~ ～ · , 《 》 〈 〉 . ... ___ /").split(' ');
function calc(){
var s = document.getElementById("a").value;
  s=s.replace(' ', '');
  for(var i = 0; i < x.length; i++){
    s=s.replaceAll(x[i], '');
  }
  document.getElementById("res").innerHTML = (s.length);
}
</script>
<div>
  <textarea id="a"></textarea>
  <input type="submit" id="s" onclick="calc()">
  字数:：<span id="res"></span>
</div>
